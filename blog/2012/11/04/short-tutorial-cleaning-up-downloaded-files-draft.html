<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>From Data to Scholarship - Short Tutorial: Cleaning up downloaded files (draft)</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="/assets/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Coda|Open+Sans:300italic,400italic,400,700' rel='stylesheet' type='text/css'>  
    <link href='http://fonts.googleapis.com/css?family=Forum' rel='stylesheet' type='text/css'>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".nav-button").click(function () {
            $(".nav-button,.primary-nav").toggleClass("open");
            });    
        });
    </script>

  </head>  <body>
   <div id="wrap">
      <header id="head">
        <div id="title">
  <h1><a href="/">From Data to Scholarship</a></h1>
  <h2>Digital Experiments in Religious History</h2>
</div>
<nav class="primary-nav">
  <ul>
    <li><a href="/blog/">Blog</a></li>
    <li><a href="/portfolio.html">Portfolio</a></li>
    <li><a href="/about.html">About</a></li>
    <li><a href="/cv.html">Vita</a></li>
    <li><a href="/search.html"><i class="fa fa-search"></i></a></li>
  </ul>
</nav>


      </header>
      <main>
        <article>
        <section>
      <h1>
          Short Tutorial: Cleaning up downloaded files (draft)
      </h1>
      <p class="tagline">
          By Jeri Elizabeth Wieringa - <time>Nov  4 2012</time>
      </p>
      <div class="text fulltext">
          <!-- content inserted here -->
          <p>So you used wget or Python to pull down a collection of files from the web. Excellent! But in looking through your loot, you notice that a number of the files are oddly small and, on further examination, find that they are functionally empty. How do you clean up your collection of files quickly?</p>

<p>There are a number of very powerful command line tools built into UNIX systems (Mac and Linux) that allow you to manipulate your files quickly and easily. This is a brief tutorial on how to use those tools to locate all of the files that are too small and then remove those files from your collection.</p>

<p>Begin by navigating in Terminal to your collection of folders. For example, my files were located a couple of folders downs within my Documents folder.</p>

<pre>cd Documents/Github/Clio3/Webscraping/hymn-files</pre>

<p>Once in the folder with your downloaded files, you need to find a way to isolate out the files that are too small to be interesting. To do this, use the “find” command. First, to see the various options associated with “find”, enter</p>

<pre>man help</pre>

<p>Use the up and down arrows to move around the window that appears. Look around at the various options – there are many! However, because we are looking only in a particular folder, which in my case has no subfolders, all that we need to look at for now is size.</p>

<p>To exit this window, type “q”.</p>

<p>If the files we are interested in sorting through are all one file type (in my case they’re .json files), we can tell the computer to find all of the files of a particular type and particular size as follows:</p>

<pre>find *.json -size 28c</pre>

<p>This would find all of the json files that are 28 bytes in size.</p>

<p>However, we want all the files that are 28 bytes or less.</p>

<pre>find *.json -size -28c</pre>

<p>Finding the files is great, but now we need to do something with that collection of files.</p>

<p>First we are going to “pipe” the results of our search over to our second, removal, function.</p>

<p>(From here on the examples are showing how the command is built – Do not run the command until the very end when all the pieces are in place)</p>

<pre>find *.json -size -28c |</pre>

<p>Next we are going to use xargs, which helps the computer handle a long list of file names.</p>

<p>Note: The wikipedia entry on xargs suggests using “-0″ (zero) when dealing with file names with spaces in them as xargs defaults to separating at white space (another reason to avoid spaces in filenames). If you run this command without -0 and it doesn’t work, try adding the -0.</p>

<pre>find *.json -size -28c | xargs</pre>

<p>And the function we want to run on each filename is “rm” or remove. rm has a number of options that you can research, some of which really make data un-recoverable and should be used with care. However, a basic “rm” command will be sufficient for this example.</p>

<pre>find *.json -size -28c | xargs rm</pre>

<p>Run this command to remove all of the files less than 28 bytes from your current directory.</p>

<p>(I used 28 bytes because the computer was having trouble with 0 and all of the files I wanted to keep were larger than 28 bytes. Not exactly sure why 0 was a problem but this is why experimenting with the find options before moving on to removing the files is a good idea!)</p>
  
      </div>
  </section>
  <section>
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'jeriwieringa'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </section>

        </article>
        <aside>
          <section>
  <h2>Topics</h2>
  <ul>
      <li class="important"><a href="/research.html">Religious History</a></li>
      <li class="important"><a href="/digital.html">Digital History</a></li>
      <li class="important"><a href="/teaching.html">Teaching</a></li>
  </ul>
</section>
<section>
  <h2>Recent Posts</h2>
  <ul>
  
    <li><a href="/blog/2014/06/12/lessons-from-dhsi.html">All Models are Wrong</a>, <span>Jun 12</span></li>
  
    <li><a href="/blog/2014/03/12/Moving-to-Middleman.html">Moving to Middleman</a>, <span>Mar 12</span></li>
  
    <li><a href="/blog/2013/07/30/bringing-rails-girls-to-the-digital-humanities.html">Bringing Rails Girls to the Digital Humanities</a>, <span>Jul 30</span></li>
  
  </ul>
</section>
<section>
  <h2>Categories</h2>
  <ul>
    
      <li><a href="/blog/category/research.html">research (26)</a></li>
    
      <li><a href="/blog/category/digital.html">digital (46)</a></li>
    
      <li><a href="/blog/category/coursework.html">coursework (61)</a></li>
    
      <li><a href="/blog/category/teaching.html">teaching (3)</a></li>
    
  </ul>
</section>
        </aside>
      </main>
      <footer>
        <div id="copyright">
  <p>CC-BY Jeri Wieringa, 2014
</div>
<div id="social" class="nav">
  <ul>
    <li><a href="http://twitter.com/jeriwieringa"><i class="fa fa-twitter"></i></a></li>
    <li><a href="https://github.com/jerielizabeth"><i class="fa fa-github"></i></a></li>
    <li><a href="/blog/feed.xml"><i class="fa fa-rss"></i></a></li>
  </ul>
</div>

<!--<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35130770-1', 'jeriwieringa.com');
  ga('send', 'pageview');

</script> -->
      </footer>
    </div>
  </body>
</html>
